<div class="event-form-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ isEditMode ? 'Edit Event' : 'Create New Event' }}</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Event Title</mat-label>
            <input matInput formControlName="title" placeholder="Enter event title" required>
            <mat-error *ngIf="eventForm.get('title')?.errors?.['required']">
              Title is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description" rows="4" placeholder="Enter event description" required></textarea>
            <mat-error *ngIf="eventForm.get('description')?.errors?.['required']">
              Description is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row two-cols">
          <mat-form-field appearance="outline">
            <mat-label>Date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="date" required>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="eventForm.get('date')?.errors?.['required']">
              Date is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Location</mat-label>
            <input matInput formControlName="location" placeholder="Enter event location" required>
            <mat-error *ngIf="eventForm.get('location')?.errors?.['required']">
              Location is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row two-cols">
          <mat-form-field appearance="outline">
            <mat-label>Price</mat-label>
            <input matInput type="number" formControlName="price" placeholder="Enter ticket price" required min="0">
            <mat-error *ngIf="eventForm.get('price')?.errors?.['required']">
              Price is required
            </mat-error>
            <mat-error *ngIf="eventForm.get('price')?.errors?.['min']">
              Price cannot be negative
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Available Seats</mat-label>
            <input matInput type="number" formControlName="availableSeats" placeholder="Enter available seats" required min="1">
            <mat-error *ngIf="eventForm.get('availableSeats')?.errors?.['required']">
              Available seats is required
            </mat-error>
            <mat-error *ngIf="eventForm.get('availableSeats')?.errors?.['min']">
              Must have at least 1 seat
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Image URL</mat-label>
            <input matInput formControlName="imageUrl" placeholder="Enter image URL (optional)">
          </mat-form-field>
        </div>

        <div class="form-actions">
          <button mat-button type="button" routerLink="/events">Cancel</button>
          <button mat-raised-button color="primary" type="submit" [disabled]="!eventForm.valid">
            {{ isEditMode ? 'Update Event' : 'Create Event' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div> 